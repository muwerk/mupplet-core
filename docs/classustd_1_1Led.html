<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>muwerk ustd Library: ustd::Led Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">muwerk ustd Library
   </div>
   <div id="projectbrief">A low-resource, minimal implementation of Arrays, Maps and Queues for low-resource avrs.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceustd.html">ustd</a></li><li class="navelem"><a class="el" href="classustd_1_1Led.html">Led</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classustd_1_1Led-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ustd::Led Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>mupplet-core <a class="el" href="classustd_1_1Led.html" title="mupplet-core Led class">Led</a> class  
 <a href="classustd_1_1Led.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="led_8h_source.html">led.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a01eaa5fbd8dbaad7bd14e4cf329e22eb"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classustd_1_1Led.html#a01eaa5fbd8dbaad7bd14e4cf329e22eb">Mode</a> { <br />
&#160;&#160;<a class="el" href="classustd_1_1Led.html#a01eaa5fbd8dbaad7bd14e4cf329e22eba5b2aacbd073ef57f8fac479fd324148c">Passive</a>
, <a class="el" href="classustd_1_1Led.html#a01eaa5fbd8dbaad7bd14e4cf329e22eba2027274916efb784b9581171957f1a47">Blink</a>
, <a class="el" href="classustd_1_1Led.html#a01eaa5fbd8dbaad7bd14e4cf329e22ebae69149047470d3ce621b3c92fc9f3274">Wave</a>
, <a class="el" href="classustd_1_1Led.html#a01eaa5fbd8dbaad7bd14e4cf329e22eba332211418be9023775e1c7ab06359732">Pulse</a>
, <br />
&#160;&#160;<a class="el" href="classustd_1_1Led.html#a01eaa5fbd8dbaad7bd14e4cf329e22eba062b8daa1a4eb2ab00530ee6f1a52586">Pattern</a>
<br />
 }</td></tr>
<tr class="separator:a01eaa5fbd8dbaad7bd14e4cf329e22eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac050ef0d3a7409e5608854e0b2ebf971"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classustd_1_1Led.html#ac050ef0d3a7409e5608854e0b2ebf971">Led</a> (String name, uint8_t port, bool activeLogic=false, uint8_t channel=0)</td></tr>
<tr class="separator:ac050ef0d3a7409e5608854e0b2ebf971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adad791241c467d74d69d90bfcb4e8eb0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classustd_1_1Led.html#adad791241c467d74d69d90bfcb4e8eb0">begin</a> (Scheduler *_pSched, bool initialState=false)</td></tr>
<tr class="separator:adad791241c467d74d69d90bfcb4e8eb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae76a09bcd774f39aa8c7f797b3a1fba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classustd_1_1Led.html#aae76a09bcd774f39aa8c7f797b3a1fba">set</a> (bool state)</td></tr>
<tr class="separator:aae76a09bcd774f39aa8c7f797b3a1fba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad33c89336b3632e7e3d49014993d4b7b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classustd_1_1Led.html#ad33c89336b3632e7e3d49014993d4b7b">setMode</a> (<a class="el" href="classustd_1_1Led.html#a01eaa5fbd8dbaad7bd14e4cf329e22eb">Mode</a> _mode, unsigned int interval_ms=1000, double phase_unit=0.0)</td></tr>
<tr class="separator:ad33c89336b3632e7e3d49014993d4b7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>mupplet-core <a class="el" href="classustd_1_1Led.html" title="mupplet-core Led class">Led</a> class </p>
<p>The <a class="el" href="classustd_1_1Led.html" title="mupplet-core Led class">Led</a> class allows control of standard Leds (or lights) with digital and PWM control.</p>
<p>Supported modes are: on/off (mode: Passive), brightness (mode: Passive, with PWM), wave (soft oszillation, mode: Wave), one-time pulse (mode: Pulse), and repeating, user-selectable patterns (mode: Pattern).</p>
<h2>Sample <a class="el" href="classustd_1_1Led.html" title="mupplet-core Led class">Led</a> Integration</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#define __ESP__ 1   </span><span class="comment">// Platform defines required, see ustd library doc, mainpage.</span></div>
<div class="line"><span class="preprocessor">#include &quot;scheduler.h&quot;</span></div>
<div class="line"> </div>
<div class="line">ustd::Scheduler sched;</div>
<div class="line">ust::Led led(<span class="stringliteral">&quot;myled&quot;</span>,13);</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> setup() {</div>
<div class="line">    led.begin(&amp;sched);</div>
<div class="line">}</div>
</div><!-- fragment --> </div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a01eaa5fbd8dbaad7bd14e4cf329e22eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01eaa5fbd8dbaad7bd14e4cf329e22eb">&#9670;&nbsp;</a></span>Mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classustd_1_1Led.html#a01eaa5fbd8dbaad7bd14e4cf329e22eb">ustd::Led::Mode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a01eaa5fbd8dbaad7bd14e4cf329e22eba5b2aacbd073ef57f8fac479fd324148c"></a>Passive&#160;</td><td class="fielddoc"><p><a class="el" href="classustd_1_1Led.html" title="mupplet-core Led class">Led</a> is controlled by API or external events, used for on/off and brightness modes. No automatic state changes </p>
</td></tr>
<tr><td class="fieldname"><a id="a01eaa5fbd8dbaad7bd14e4cf329e22eba2027274916efb784b9581171957f1a47"></a>Blink&#160;</td><td class="fielddoc"><p>Blink the led with a given frequency. The led is automatically controlled by the mupplet until a manual state override is given. </p>
</td></tr>
<tr><td class="fieldname"><a id="a01eaa5fbd8dbaad7bd14e4cf329e22ebae69149047470d3ce621b3c92fc9f3274"></a>Wave&#160;</td><td class="fielddoc"><p>This uses PWM to make a soft pulsing wave effect, automatic mode. </p>
</td></tr>
<tr><td class="fieldname"><a id="a01eaa5fbd8dbaad7bd14e4cf329e22eba332211418be9023775e1c7ab06359732"></a>Pulse&#160;</td><td class="fielddoc"><p>One-time pulse for a given length, automatic mode while pulse is active. </p>
</td></tr>
<tr><td class="fieldname"><a id="a01eaa5fbd8dbaad7bd14e4cf329e22eba062b8daa1a4eb2ab00530ee6f1a52586"></a>Pattern&#160;</td><td class="fielddoc"><p>Plays an (optionally) repeating pattern, e.g. to signal a system state. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac050ef0d3a7409e5608854e0b2ebf971"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac050ef0d3a7409e5608854e0b2ebf971">&#9670;&nbsp;</a></span>Led()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ustd::Led::Led </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>activeLogic</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>channel</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Instantiate a <a class="el" href="classustd_1_1Led.html" title="mupplet-core Led class">Led</a> object at a given hardware port.</p>
<p>No hardware interaction is performed, until <a class="el" href="classustd_1_1Led.html#adad791241c467d74d69d90bfcb4e8eb0">begin()</a> is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the led, used to reference it by pub/sub messages </td></tr>
    <tr><td class="paramname">port</td><td>GPIO port number, needs to be a PWM enabled pin, if brightness, Pulse-mode or Pattern-mode with brightness levels are used. </td></tr>
    <tr><td class="paramname">activeLogic</td><td>Characterizes the pysical logicl-level which would turn the led on. Default is 'false', which assumes the led turns on if logic level at the GPIO port is LOW. Change to 'true', if led is turned on by physical logic level HIGH. </td></tr>
    <tr><td class="paramname">channel</td><td>currently ESP32 only, can be ignored for all other platforms. ESP32 requires assignment of a system-wide unique channel number (0..15) for each led in the system. So for ESP32 both the GPIO port number and a unique channel id are required.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="adad791241c467d74d69d90bfcb4e8eb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adad791241c467d74d69d90bfcb4e8eb0">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ustd::Led::begin </td>
          <td>(</td>
          <td class="paramtype">Scheduler *&#160;</td>
          <td class="paramname"><em>_pSched</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>initialState</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialize led hardware and start operation</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_pSched</td><td>Pointer to a muwerk scheduler object, used to create worker tasks and for message pub/sub. </td></tr>
    <tr><td class="paramname">initialState</td><td>Initial logical state of the led: false=off, true=on. Note that this is independent of the physical output signal on the GPIO port: if a LOW or HIGH signal is required to switch the led on, is defined by the constructor's activeLogic parameter.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aae76a09bcd774f39aa8c7f797b3a1fba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae76a09bcd774f39aa8c7f797b3a1fba">&#9670;&nbsp;</a></span>set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ustd::Led::set </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set led to a given logical state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>true=on, false=off.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad33c89336b3632e7e3d49014993d4b7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad33c89336b3632e7e3d49014993d4b7b">&#9670;&nbsp;</a></span>setMode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ustd::Led::setMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classustd_1_1Led.html#a01eaa5fbd8dbaad7bd14e4cf329e22eb">Mode</a>&#160;</td>
          <td class="paramname"><em>_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>interval_ms</em> = <code>1000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>phase_unit</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set led mode to given <a class="el" href="classustd_1_1Led.html#a01eaa5fbd8dbaad7bd14e4cf329e22eb">Mode</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_mode</td><td><a class="el" href="classustd_1_1Led.html" title="mupplet-core Led class">Led</a> <a class="el" href="classustd_1_1Led.html#a01eaa5fbd8dbaad7bd14e4cf329e22eb">Mode</a> </td></tr>
    <tr><td class="paramname">interval_ms</td><td>Duration of blink in Mode::Blink or pulse duration. </td></tr>
    <tr><td class="paramname">phase_unit</td><td>Phase difference used to synchronize different leds in Wave or blink mode. A phase_unit of 0 synchronizes thes given leds. phase-difference is in [0.0-1.0]. A phase difference of 0.5 (180 degrees) between two leds would let leds blink reversed.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="led_8h_source.html">led.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
